<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algo-Ritme: Social Media Strategy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Space Grotesk', sans-serif; background-color: #050505; color: #e2e8f0; overflow: hidden; }
        
        .neon-text { text-shadow: 0 0 10px rgba(168, 85, 247, 0.7); }
        .card-container { perspective: 1000px; }
        .game-card { 
            background: linear-gradient(145deg, #1e1e24, #121214);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }
        
        .stat-bar { transition: width 0.5s ease-in-out; }
        
        /* Glitch Effect for Algorithm God */
        .glitch { position: relative; }
        .glitch::before, .glitch::after {
            content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        }
        .glitch::before { left: 2px; text-shadow: -1px 0 red; clip: rect(24px, 550px, 90px, 0); animation: glitch-anim-2 3s infinite linear alternate-reverse; }
        .glitch::after { left: -2px; text-shadow: -1px 0 blue; clip: rect(85px, 550px, 140px, 0); animation: glitch-anim 2.5s infinite linear alternate-reverse; }
        
        @keyframes glitch-anim { 0% { clip: rect(11px, 9999px, 32px, 0); } 100% { clip: rect(78px, 9999px, 94px, 0); } }
        @keyframes glitch-anim-2 { 0% { clip: rect(56px, 9999px, 12px, 0); } 100% { clip: rect(2px, 9999px, 67px, 0); } }

        .choice-btn:active { transform: scale(0.95); }
        
        .fade-in { animation: fadeIn 0.5s forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="h-screen w-full flex flex-col items-center justify-between p-4 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]">

    <!-- Top Stats -->
    <div class="w-full max-w-md grid grid-cols-3 gap-2 mb-4 z-10">
        <div class="bg-gray-900/80 p-2 rounded-lg border border-purple-900/50">
            <div class="text-[10px] text-gray-400 uppercase tracking-widest text-center">VIRALITAS</div>
            <div class="w-full bg-gray-700 h-2 rounded-full mt-1 overflow-hidden">
                <div id="bar-viral" class="h-full bg-purple-500 stat-bar" style="width: 50%"></div>
            </div>
        </div>
        <div class="bg-gray-900/80 p-2 rounded-lg border border-green-900/50">
            <div class="text-[10px] text-gray-400 uppercase tracking-widest text-center">CUAN (KAS)</div>
            <div class="w-full bg-gray-700 h-2 rounded-full mt-1 overflow-hidden">
                <div id="bar-money" class="h-full bg-green-500 stat-bar" style="width: 50%"></div>
            </div>
        </div>
        <div class="bg-gray-900/80 p-2 rounded-lg border border-yellow-900/50">
            <div class="text-[10px] text-gray-400 uppercase tracking-widest text-center">IDEALISME</div>
            <div class="w-full bg-gray-700 h-2 rounded-full mt-1 overflow-hidden">
                <div id="bar-soul" class="h-full bg-yellow-500 stat-bar" style="width: 50%"></div>
            </div>
        </div>
    </div>

    <!-- The Algorithm Entity -->
    <div class="flex-1 flex flex-col items-center justify-center w-full max-w-md relative">
        
        <!-- The Entity Avatar -->
        <div class="mb-6 relative w-24 h-24 flex items-center justify-center">
            <div class="absolute inset-0 bg-purple-600 rounded-full blur-xl opacity-50 animate-pulse"></div>
            <div class="text-6xl z-10 glitch" data-text="üëÅÔ∏è">üëÅÔ∏è</div>
        </div>

        <!-- Dialogue Box -->
        <div id="dialogue-box" class="bg-gray-900/90 border border-gray-700 p-6 rounded-2xl shadow-2xl w-full mb-6 min-h-[120px] flex items-center justify-center text-center fade-in backdrop-blur-sm">
            <p id="question-text" class="text-lg font-bold leading-relaxed">
                "Selamat datang di arena, UMKM kecil. Siap menjual jiwamu demi *engagement*?"
            </p>
        </div>

        <!-- Choice Cards Area -->
        <div id="choices-area" class="w-full grid grid-cols-1 gap-3 fade-in">
            <!-- Buttons injected via JS -->
            <button onclick="startGame()" class="choice-btn w-full bg-gradient-to-r from-purple-700 to-indigo-700 p-4 rounded-xl font-bold text-white shadow-lg border-b-4 border-purple-900 hover:brightness-110 transition-all">
                MULAI PERMAINAN
            </button>
        </div>

    </div>

    <!-- Feedback Overlay (Popup) -->
    <div id="overlay" class="fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-6 hidden">
        <div class="bg-gray-900 border border-red-500 p-8 rounded-2xl max-w-sm w-full text-center shadow-[0_0_50px_rgba(220,38,38,0.5)]">
            <div id="overlay-icon" class="text-6xl mb-4">üíÄ</div>
            <h2 id="overlay-title" class="text-2xl font-bold text-red-500 mb-2 uppercase neon-text">GAME OVER</h2>
            <p id="overlay-desc" class="text-gray-300 text-sm mb-6 leading-relaxed">Anda gagal.</p>
            <button onclick="location.reload()" class="w-full bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 rounded border border-gray-600">COBA LAGI</button>
        </div>
    </div>

    <script>
        // --- GAME DATA ---
        const scenarios = [
            {
                id: 1,
                text: "Postingan pertama. Kamu punya stok Kain Tenun yang menumpuk. Apa hook konten videomu?",
                choices: [
                    {
                        text: "Video sinematik kain dengan musik gamelan slow. Caption: 'Filosofi motif ini adalah...'",
                        stats: { viral: -10, money: 0, soul: 10 },
                        feedback: "MEMBOSANKAN! Orang scroll TikTok buat dopamin, bukan buat kuliah 3 SKS. Kamu di-skip."
                    },
                    {
                        text: "Video transisi 'Outfit Kondangan vs Outfit Nongkrong' pake Kain Tenun. Musik: DJ Remix Viral.",
                        stats: { viral: 20, money: 10, soul: -5 },
                        feedback: "BAGUS! Kamu relevan. Kain tenun jadi terlihat modern dan wearable."
                    }
                ]
            },
            {
                id: 2,
                text: "Ada Influencer 'alay' dengan 1 Juta followers minta barter produk. Dia gak ngerti budaya, tapi followersnya banyak.",
                choices: [
                    {
                        text: "Tolak. Brand image kita harus elegan dan berkelas.",
                        stats: { viral: -5, money: -5, soul: 10 },
                        feedback: "IDEALIS TAPI MISKIN. Brand image gak bisa bayar listrik. Kesempatan eksposur hilang."
                    },
                    {
                        text: "Terima. Asal dia pake produknya bener, bodo amat dia alay.",
                        stats: { viral: 25, money: 15, soul: -15 },
                        feedback: "PRAGMATIS! Alay itu pasar yang besar. Penjualan naik drastis."
                    }
                ]
            },
            {
                id: 3,
                text: "Netizen nyinyir di kolom komentar: 'Ini mah bukan asli budaya X, motifnya udah dimodifikasi! Penistaan!'",
                choices: [
                    {
                        text: "Balas dengan argumen sejarah panjang lebar dan marah-marah.",
                        stats: { viral: 5, money: -5, soul: 5 },
                        feedback: "DEFENSIF. Kamu terlihat arogan. Orang malas beli sama pedagang baperan."
                    },
                    {
                        text: "Pin komentarnya. Bikin video balasan santai: 'Makasih koreksinya Kak, versi kami emang adaptasi modern biar bisa dipake harian üòÅ'",
                        stats: { viral: 15, money: 10, soul: 0 },
                        feedback: "CERDAS! Mengubah hate comment jadi konten edukasi yang humble. Respek naik."
                    }
                ]
            },
            {
                id: 4,
                text: "Tren 'Check-out Keranjang Kuning' lagi hype. Kamu disuruh live streaming jualan jam 2 pagi.",
                choices: [
                    {
                        text: "Gak mau ah, masa jualan karya seni kayak jualan obat pinggir jalan?",
                        stats: { viral: -10, money: -10, soul: 5 },
                        feedback: "GENGSI MEMBUNUHINMU. Algoritma suka yang rajin live. Kompetitormu cuan, kamu tidur."
                    },
                    {
                        text: "Gaskeun Live! Bikin promo 'Flash Sale Budaya'.",
                        stats: { viral: 10, money: 20, soul: -10 },
                        feedback: "CUAN! Seni juga butuh divaluasi dengan uang biar pengrajinnya hidup."
                    }
                ]
            },
            {
                id: 5,
                text: "Budget marketing sisa dikit. Pilihan terakhir buat naikin omzet bulan ini?",
                choices: [
                    {
                        text: "Bayar Ads (Iklan) target audiens luar negeri (ekspor).",
                        stats: { viral: 5, money: 10, soul: 5 },
                        feedback: "STRATEGIS. Pasar lokal mungkin jenuh, pasar global menghargai 'handmade' lebih tinggi."
                    },
                    {
                        text: "Bikin Giveaway spam komen. 'Yang spam like dapet tas gratis'.",
                        stats: { viral: 10, money: -5, soul: -20 },
                        feedback: "MURAHAN. Followers naik, tapi isinya akun gratisan yang gak bakal beli produkmu."
                    }
                ]
            }
        ];

        // --- GAME ENGINE ---
        let currentStats = { viral: 50, money: 50, soul: 50 };
        let currentTurn = 0;
        
        const dialogueBox = document.getElementById('dialogue-box');
        const questionText = document.getElementById('question-text');
        const choicesArea = document.getElementById('choices-area');
        const overlay = document.getElementById('overlay');
        const overlayTitle = document.getElementById('overlay-title');
        const overlayDesc = document.getElementById('overlay-desc');
        const overlayIcon = document.getElementById('overlay-icon');

        const bars = {
            viral: document.getElementById('bar-viral'),
            money: document.getElementById('bar-money'),
            soul: document.getElementById('bar-soul')
        };

        function updateBars() {
            bars.viral.style.width = `${currentStats.viral}%`;
            bars.money.style.width = `${currentStats.money}%`;
            bars.soul.style.width = `${currentStats.soul}%`;

            // Color logic based on health
            bars.viral.className = `h-full stat-bar ${currentStats.viral < 20 ? 'bg-red-600' : 'bg-purple-500'}`;
            bars.money.className = `h-full stat-bar ${currentStats.money < 20 ? 'bg-red-600' : 'bg-green-500'}`;
            bars.soul.className = `h-full stat-bar ${currentStats.soul < 20 ? 'bg-red-600' : 'bg-yellow-500'}`;
        }

        function checkGameOver() {
            if (currentStats.viral <= 0) return { over: true, msg: "ANDA TIDAK RELEVAN. Brand Anda tenggelam ditelan algoritma karena membosankan.", icon: "üëª" };
            if (currentStats.money <= 0) return { over: true, msg: "ANDA BANGKRUT. Likes banyak tidak bisa membayar tagihan vendor.", icon: "üí∏" };
            if (currentStats.soul <= 0) return { over: true, msg: "ANDA KEHILANGAN JATI DIRI. Anda cuma pedagang palugada, bukan pelestari budaya.", icon: "ü§°" };
            return { over: false };
        }

        function startGame() {
            currentTurn = 0;
            currentStats = { viral: 50, money: 50, soul: 50 };
            updateBars();
            loadTurn();
        }

        function loadTurn() {
            const status = checkGameOver();
            if (status.over) {
                showGameOver(status.msg, status.icon);
                return;
            }

            if (currentTurn >= scenarios.length) {
                showVictory();
                return;
            }

            const scenario = scenarios[currentTurn];
            
            // Animasi transisi
            dialogueBox.classList.remove('fade-in');
            void dialogueBox.offsetWidth; // trigger reflow
            dialogueBox.classList.add('fade-in');

            questionText.innerText = scenario.text;
            
            choicesArea.innerHTML = '';
            scenario.choices.forEach(choice => {
                const btn = document.createElement('button');
                btn.className = "choice-btn w-full bg-gray-800 hover:bg-gray-700 p-4 rounded-xl border border-gray-600 text-left text-sm text-gray-200 shadow-md transition-all mb-2 flex items-center justify-between group";
                btn.innerHTML = `
                    <span>${choice.text}</span>
                    <span class="opacity-0 group-hover:opacity-100 transition-opacity text-xl">üëâ</span>
                `;
                btn.onclick = () => handleChoice(choice);
                choicesArea.appendChild(btn);
            });
        }

        function handleChoice(choice) {
            // Apply stats
            currentStats.viral += choice.stats.viral;
            currentStats.money += choice.stats.money;
            currentStats.soul += choice.stats.soul;

            // Cap stats at 100
            if (currentStats.viral > 100) currentStats.viral = 100;
            if (currentStats.money > 100) currentStats.money = 100;
            if (currentStats.soul > 100) currentStats.soul = 100;

            updateBars();

            // Show feedback momentarily via Alert or custom modal? 
            // Let's replace the question text with feedback for 1.5s then next turn
            choicesArea.innerHTML = ''; // Hide buttons
            questionText.innerHTML = `<span class="text-purple-400 font-bold">${choice.feedback}</span>`;
            
            setTimeout(() => {
                currentTurn++;
                loadTurn();
            }, 2000);
        }

        function showGameOver(msg, icon) {
            overlay.classList.remove('hidden');
            overlayTitle.innerText = "GAME OVER";
            overlayDesc.innerText = msg;
            overlayIcon.innerText = icon;
        }

        function showVictory() {
            overlay.classList.remove('hidden');
            overlayTitle.innerText = "SURVIVOR!";
            overlayTitle.className = "text-2xl font-bold text-green-500 mb-2 uppercase neon-text";
            overlayDesc.innerText = "Anda berhasil menaklukkan Algoritma tanpa menjual harga diri sepenuhnya. Sekarang, lakukan ini di dunia nyata.";
            overlayIcon.innerText = "üëë";
        }

    </script>
</body>
</html>